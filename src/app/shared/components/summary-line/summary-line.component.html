<div class="summary">
  <div class="time-range">
    <span>{{data?.endDate | date : 'dd.MM.yy'}} </span> {{'SUMMARY.FROM' | translate}}
    <span>{{data?.startDate | date : 'dd.MM.yy'}} </span> {{'SUMMARY.TO' | translate}}
  </div>
  <div class="profit">
    <img
      alt="help"
      src="assets/icons/product_help.svg"
      class="question-mark"
      (click)="isOpen = true; currency = true; percentage = false"
      cdkOverlayOrigin
      #trigger="cdkOverlayOrigin"
    >
    <img alt="arrow" [src]="!down ? 'assets/icons/stock_arrow_up.svg' : 'assets/icons/stock_arrow_down.svg'"> â‚ª 19,000
    <span class="divider">|</span>
    <img
      alt="help"
      src="assets/icons/product_help.svg"
      class="question-mark"
      (click)="isOpen = true; percentage = true; currency = false;"
      cdkOverlayOrigin
      #trigger="cdkOverlayOrigin"
    >
    <img alt="arrow" [src]="!down ? 'assets/icons/stock_arrow_up.svg' : 'assets/icons/stock_arrow_down.svg'"> 4.5%
    <span>{{'SUMMARY.LABEL' | translate}}</span>
  </div>
</div>

<ng-template
  cdkConnectedOverlay
  [cdkConnectedOverlayOrigin]="trigger"
  [cdkConnectedOverlayOpen]="isOpen"
>
  <div
    class="tooltip-container"
    [ngStyle]="{'left': currency ? '-137px' : '27px'}"
  >
    <div
      class="triangle"
      [ngStyle]="{'left': (currency && isMobile) ? '0' : (!currency && isMobile) ? '146px' : 'calc(50% - 12px)'}"
    ></div>
    <div class="tooltip-content">
      <div class="tooltip-header">
        <button (click)="isOpen = false; currency = false; percentage = false;">
          <img src="assets/icons/ic_close.svg" alt="close">
        </button>
        <span *ngIf="currency">
          {{'TOOLTIP.CURRENCY_HEADER' | translate}}
        </span>
        <span *ngIf="percentage">
        {{'TOOLTIP.PERCENTAGE_HEADER' | translate}}
      </span>
      </div>
      <div class="tooltip-body">
      <span *ngIf="currency">
        {{'TOOLTIP.CURRENCY_BODY' | translate}}
      </span>
        <span *ngIf="percentage">
        {{'TOOLTIP.PERCENTAGE_BODY' | translate}}
      </span>
      </div>
    </div>
  </div>
</ng-template>
